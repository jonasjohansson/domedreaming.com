let dotsContainer=null,gridColumns=16,colWidth=0,rowHeight=0;function initGridDots(){const t=document.getElementById("dots");t&&t.remove(),dotsContainer=document.createElement("div"),dotsContainer.id="dots",document.body.appendChild(dotsContainer),updateDotsSize(),createDotElements()}function updateDotsSize(){const t=getComputedStyle(document.documentElement),e=document.documentElement.clientWidth||window.innerWidth,o=t.getPropertyValue("--col-width");colWidth=o&&parseFloat(o)||e/gridColumns;const n=t.getPropertyValue("--row-height"),i=parseFloat(n);rowHeight=!isNaN(i)&&i>0?i:colWidth}function createDotElements(){if(!dotsContainer)return;dotsContainer.innerHTML="";const t=16*gridColumns;let e=0;!function o(){const n=Math.min(e+32,t);for(let t=e;t<n;t++){const e=Math.floor(t/gridColumns),o=t%gridColumns,n=document.createElement("div");n.className="dot",n.dataset.col=o+1,n.dataset.row=e+1,n.style.gridColumn=o+1,n.style.gridRow=e+1,n.style.pointerEvents="none";const i=o+1+(e+1-1)*gridColumns;n.style.setProperty("--dot-delay",i),dotsContainer.appendChild(n)}e=n,e<t&&("requestIdleCallback"in window?requestIdleCallback(o,{timeout:50}):setTimeout(o,0))}()}export function initGridDotsSystem(){let t;initGridDots(),window.addEventListener("resize",()=>{clearTimeout(t),t=setTimeout(()=>{updateDotsSize(),createDotElements()},150)}),window.addEventListener("orientationchange",()=>{setTimeout(()=>{updateDotsSize(),createDotElements()},300)})}