import{getRowHeight}from"../core/utils.js";function adjustResponsiveHeights(){const e=getComputedStyle(document.documentElement),t=(parseFloat(e.getPropertyValue("--grid-rows")),getRowHeight());document.querySelectorAll(".page-section").forEach(e=>{const i=e.querySelector(".block.responsive");if(!i)return;const o=e.style.height,s=e.style.minHeight,n=e.style.getPropertyValue("--section-grid-rows");e.style.height="auto",e.style.minHeight="auto",e.style.removeProperty("--section-grid-rows"),e.offsetHeight;const r=i.offsetHeight;e.style.height=o,e.style.minHeight=s,n&&e.style.setProperty("--section-grid-rows",n);let d=Math.ceil(r/t);d=Math.max(1,d),d+=2,e.style.setProperty("--section-grid-rows",d.toString())})}export function initResponsiveHeights(){let e;window.addEventListener("load",()=>{setTimeout(()=>{adjustResponsiveHeights()},100)});const t=()=>{clearTimeout(e),e=setTimeout(()=>{adjustResponsiveHeights()},100)};window.addEventListener("resize",t),window.addEventListener("orientationchange",t),window.visualViewport&&window.visualViewport.addEventListener("resize",t),"complete"!==document.readyState&&"interactive"!==document.readyState||setTimeout(()=>{adjustResponsiveHeights()},100)}